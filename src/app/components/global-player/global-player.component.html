<div class="fixed bottom-0 left-0 right-0 bg-black/10 backdrop-blur-2xl border-t border-white/10 z-50">
  <!-- Progress Bar -->
  <div class="absolute top-0 left-0 right-0 h-[2px]">
    <div class="absolute inset-0 bg-white/5"></div>
    <div class="relative h-full bg-gradient-to-r from-primary-400 via-white to-secondary-400"
         [style.width.%]="(audioService.audioState().currentTime / audioService.audioState().duration) * 100">
    </div>
  </div>

  <!-- Mobile Player (Single Row) -->
  <div class="md:hidden h-16 px-4 flex items-center justify-between">
    <!-- Track Info -->
    <div class="flex-1 min-w-0 mr-4">
      <h3 class="text-white font-medium truncate text-sm">
        {{ currentShow()?.title || 'Now Playing' }}
      </h3>
      <p class="text-white/60 text-xs truncate">
        {{ currentShow()?.host || 'Live Stream' }}
      </p>
    </div>

    <!-- Controls -->
    <div class="flex items-center gap-3">
      <button (click)="audioService.toggleMute()"
              class="text-white/60 hover:text-white p-2">
        @if (audioService.audioState().isMuted || audioService.audioState().volume === 0) {
          <div class="relative">
            <!-- Base Speaker Icon -->
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
              <path d="M2 8v8h4l6 5V3L6 8H2z"/>
            </svg>
            <!-- Red Cancel Line -->
            <svg class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-6 h-6 text-red-500"
                 viewBox="0 0 24 24" stroke="currentColor" fill="none">
              <line x1="19" y1="5" x2="5" y2="19" stroke-width="2"/>
            </svg>
          </div>
        } @else {
          <div class="relative">
            <!-- Base Speaker Icon -->
            <svg class="w-5 h-5" viewBox="0 0 28 28" fill="currentColor">
              <path d="M2 8v8h4l6 5V3L6 8H2z"/>
              <!-- Sound Waves -->
              <path d="M15 8a4 4 0 0 1 0 8" stroke="currentColor" fill="none" stroke-width="2" class="text-sky-600"/>
              <path d="M18 5a8 8 0 0 1 0 14" stroke="currentColor" fill="none" stroke-width="2" class="text-sky-600"/>
              <path d="M21 2a12 12 0 0 1 0 20" stroke="currentColor" fill="none" stroke-width="2" class="text-sky-600"/>
            </svg>
          </div>
        }
      </button>

      <button (click)="audioService.togglePlay()"
              class="w-10 h-10 rounded-full bg-primary-500 flex items-center justify-center">
        @if (audioService.audioState().isPlaying) {
          <svg class="w-5 h-5 text-white" viewBox="0 0 24 24" fill="currentColor">
            <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>
          </svg>
        } @else {
          <svg class="w-5 h-5 text-white translate-x-0.5" viewBox="0 0 24 24" fill="currentColor">
            <path d="M8 5v14l11-7L8 5z"/>
          </svg>
        }
      </button>
    </div>
  </div>

  <!-- Desktop Player -->
  <div class="hidden md:block h-20">
    <div class="max-w-7xl mx-auto px-6 h-full relative">
      <div class="flex items-center justify-between h-full">
        <!-- Left: Track Info -->
        <div class="w-[30%] min-w-0">
          <h3 class="text-white font-medium truncate">
            {{ currentShow()?.title || 'Now Playing' }}
          </h3>
          <p class="text-white/60 truncate text-sm">
            {{ currentShow()?.host || 'Live Stream' }}
          </p>
        </div>

        <!-- Center: Play Button -->
        <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2">
          <button (click)="audioService.togglePlay()"
                  class="w-14 h-14 rounded-full bg-primary-500 flex items-center justify-center
                         hover:bg-primary-600 transition-colors">
            @if (audioService.audioState().isPlaying) {
              <svg class="w-6 h-6 text-white" viewBox="0 0 24 24" fill="currentColor">
                <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>
              </svg>
            } @else {
              <svg class="w-6 h-6 text-white translate-x-0.5" viewBox="0 0 24 24" fill="currentColor">
                <path d="M8 5v14l11-7L8 5z"/>
              </svg>
            }
          </button>
        </div>

        <!-- Right: Volume Control -->
        <div class="w-[30%] flex items-center justify-end gap-4">
          <!-- Volume Button -->
          <button (click)="audioService.toggleMute()"
                  class="text-white/60 hover:text-white p-2">
            @if (audioService.audioState().isMuted || audioService.audioState().volume === 0) {
              <div class="relative">
                <!-- Base Speaker Icon -->
                <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M2 8v8h4l6 5V3L6 8H2z"/>
                </svg>
                <!-- Red Cancel Line -->
                <svg class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-6 h-6 text-red-500"
                     viewBox="0 0 24 24" stroke="currentColor" fill="none">
                  <line x1="19" y1="5" x2="5" y2="19" stroke-width="2"/>
                </svg>
              </div>
            } @else {
              <div class="relative">
                <!-- Base Speaker Icon -->
                <svg class="w-5 h-5" viewBox="0 0 28 28" fill="currentColor">
                  <path d="M2 8v8h4l6 5V3L6 8H2z"/>
                  <!-- Sound Waves -->
                  <path d="M15 8a4 4 0 0 1 0 8" stroke="currentColor" fill="none" stroke-width="2" class="text-sky-600"/>
                  <path d="M18 5a8 8 0 0 1 0 14" stroke="currentColor" fill="none" stroke-width="2" class="text-sky-600"/>
                  <path d="M21 2a12 12 0 0 1 0 20" stroke="currentColor" fill="none" stroke-width="2" class="text-sky-600"/>
                </svg>
              </div>
            }
          </button>

          <input type="range"
                 min="0"
                 max="100"
                 [value]="audioService.audioState().volume * 100"
                 (input)="updateVolume($event)"
                 class="w-32 h-1 bg-white/10 rounded-full appearance-none cursor-pointer
                        [&::-webkit-slider-thumb]:appearance-none
                        [&::-webkit-slider-thumb]:w-3
                        [&::-webkit-slider-thumb]:h-3
                        [&::-webkit-slider-thumb]:rounded-full
                        [&::-webkit-slider-thumb]:bg-white">
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Spacer -->
<div class="h-16 md:h-20"></div>
